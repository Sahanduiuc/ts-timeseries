<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="ts-timeseries : Dealing with (financial) time series data" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>ts-timeseries</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/tschm/ts-timeseries">View on GitHub</a>

          <h1 id="project_title">ts-timeseries</h1>
          <h2 id="project_tagline">Dealing with (financial) time series data</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/tschm/ts-timeseries/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/tschm/ts-timeseries/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h2>
<a name="motivation" class="anchor" href="#motivation"><span class="octicon octicon-link"></span></a>Motivation</h2>

<p>Tools to work with time series data in Java.</p>

<h2>
<a name="data-import-from-external-sources" class="anchor" href="#data-import-from-external-sources"><span class="octicon octicon-link"></span></a>Data import from external sources</h2>

<p>Program tools against this interface to load data into the ts-cta framework:</p>

<div class="highlight highlight-java"><pre><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">InputData</span> <span class="o">{</span>
    <span class="cm">/**</span>
<span class="cm">     * read time series</span>
<span class="cm">     *</span>
<span class="cm">     * @param name name of the time series</span>
<span class="cm">     * @return the time series</span>
<span class="cm">     */</span>
    <span class="n">TimeSeries</span> <span class="nf">timeSeries</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">);</span>

    <span class="cm">/**</span>
<span class="cm">     * read set of names</span>
<span class="cm">     *</span>
<span class="cm">     * @return Set of all feasible names</span>
<span class="cm">     */</span>
    <span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">names</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">TimeSeries</span>
<span class="o">{</span>
    <span class="cm">/**</span>
<span class="cm">     * @return Map of any values at certain time stamps.</span>
<span class="cm">     * Time stamp are Java time stamps in ms.</span>
<span class="cm">     */</span>
    <span class="n">SortedMap</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">,</span> <span class="n">Double</span><span class="o">&gt;</span> <span class="n">points</span><span class="o">();</span>
<span class="o">}</span>

</pre></div>

<p>We provide such a tool for hdf files</p>

<div class="highlight highlight-java"><pre><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">hdfInputData</span> <span class="kd">implements</span> <span class="n">InputData</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="n">DataReader</span> <span class="n">reader</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">hdfInputData</span><span class="o">(</span><span class="n">File</span> <span class="n">file</span><span class="o">)</span>
    <span class="o">{</span>
        <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DataReader</span><span class="o">(</span><span class="n">file</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">TimeSeries</span> <span class="nf">timeSeries</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="na">readSeries</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">HDF5JavaException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">names</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="na">readNames</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<h2>
<a name="matlab-support" class="anchor" href="#matlab-support"><span class="octicon octicon-link"></span></a>Matlab support</h2>

<p>Matlab is quite terrible with dates. We provide some help in the Matlab package.</p>

<h2>
<a name="matrices" class="anchor" href="#matrices"><span class="octicon octicon-link"></span></a>Matrices</h2>

<p>Time series data are the columns of a matrix</p>

<div class="highlight highlight-java"><pre><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ts</span><span class="o">.</span><span class="na">timeseries</span><span class="o">.</span><span class="na">matrix</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.ts.timeseries.data.TimeSeries</span><span class="o">;</span>

<span class="o">...</span>

<span class="cm">/**</span>
<span class="cm"> * Matrix interface</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Matrix</span> <span class="o">{</span>
    <span class="cm">/**</span>
<span class="cm">     * Read a scalar</span>
<span class="cm">     */</span>
    <span class="kt">double</span> <span class="nf">readScalar</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="n">Long</span> <span class="n">time</span><span class="o">);</span>

    <span class="cm">/**</span>
<span class="cm">     * Write a scalar</span>
<span class="cm">     */</span>
    <span class="kt">void</span> <span class="nf">writeScalar</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="n">Long</span> <span class="n">time</span><span class="o">,</span> <span class="kt">double</span> <span class="n">scalar</span><span class="o">);</span>

    <span class="cm">/**</span>
<span class="cm">     * Read a vector</span>
<span class="cm">     */</span>
    <span class="n">SortedMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Double</span><span class="o">&gt;</span> <span class="n">readVector</span><span class="o">(</span><span class="n">Long</span> <span class="n">time</span><span class="o">);</span>

    <span class="cm">/**</span>
<span class="cm">     * Write a vector</span>
<span class="cm">     *</span>
<span class="cm">     * @param data the vector</span>
<span class="cm">     */</span>
    <span class="kt">void</span> <span class="nf">writeVector</span><span class="o">(</span><span class="n">Long</span> <span class="n">time</span><span class="o">,</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Double</span><span class="o">&gt;</span> <span class="n">data</span><span class="o">);</span>

    <span class="cm">/**</span>
<span class="cm">     * @return set of columnNames</span>
<span class="cm">     */</span>
    <span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">columns</span><span class="o">();</span>

    <span class="cm">/**</span>
<span class="cm">     * set a column in matrix</span>
<span class="cm">     *</span>
<span class="cm">     * @param columnName name of the column</span>
<span class="cm">     * @param timeSeries time series in the column</span>
<span class="cm">     */</span>
    <span class="kt">void</span> <span class="nf">setTimeSeries</span><span class="o">(</span><span class="n">String</span> <span class="n">columnName</span><span class="o">,</span> <span class="n">TimeSeries</span> <span class="n">timeSeries</span><span class="o">);</span>

    <span class="cm">/**</span>
<span class="cm">     * get a column in matrix</span>
<span class="cm">     *</span>
<span class="cm">     * @param columnName name of the column</span>
<span class="cm">     * @return time series in column</span>
<span class="cm">     */</span>
    <span class="n">TimeSeries</span> <span class="nf">getTimeSeries</span><span class="o">(</span><span class="n">String</span> <span class="n">columnName</span><span class="o">);</span>

    <span class="cm">/**</span>
<span class="cm">     * time grid used by matrix</span>
<span class="cm">     *</span>
<span class="cm">     * @return time grid</span>
<span class="cm">     */</span>
    <span class="n">SortedSet</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">&gt;</span> <span class="nf">timegrid</span><span class="o">();</span>

    <span class="cm">/**</span>
<span class="cm">     * write matrix to hdf file, use "data" as a group</span>
<span class="cm">     *</span>
<span class="cm">     * @param file file</span>
<span class="cm">     */</span>
    <span class="kt">void</span> <span class="nf">to_hdf</span><span class="o">(</span><span class="n">File</span> <span class="n">file</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>

<h2>
<a name="operators" class="anchor" href="#operators"><span class="octicon octicon-link"></span></a>Operators</h2>

<p>We provide various functions to map and analyse time series data and matrices.</p>

<h2>
<a name="availability" class="anchor" href="#availability"><span class="octicon octicon-link"></span></a>Availability</h2>

<p>This package is available in the Maven repository of the author.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">ts-timeseries maintained by <a href="https://github.com/tschm">tschm</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
